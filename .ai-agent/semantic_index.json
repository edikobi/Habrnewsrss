{
  "version": "1.2",
  "created_at": "2026-01-05T14:04:09.928956+00:00",
  "updated_at": "2026-01-24T00:25:01.358782+00:00",
  "root_path": "C:\\Users\\Admin\\ag",
  "total_files": 18,
  "total_tokens": 21437,
  "files": {
    "app/__init__.py": {
      "name": "__init__.py",
      "path": "app/__init__.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\__init__.py",
      "file_hash": "44d51f4bb719bc3f0e2f3e9f645ffe3a",
      "tokens_total": 40,
      "lines_total": 7,
      "imports": null,
      "globals": {
        "lines": "6-7",
        "names": [
          "__version__",
          "__author__"
        ],
        "tokens": 23
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2026-01-05T14:04:10.075956+00:00"
    },
    "app/cli/__init__.py": {
      "name": "__init__.py",
      "path": "app/cli/__init__.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\cli\\__init__.py",
      "file_hash": "62097b00858693b755d3037d2f3712c2",
      "tokens_total": 23,
      "lines_total": 7,
      "imports": {
        "lines": "5-5",
        "modules": [
          "app.cli.commands.cli"
        ],
        "tokens": 6
      },
      "globals": {
        "lines": "7-7",
        "names": [
          "__all__"
        ],
        "tokens": 7
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2026-01-05T14:04:10.076956+00:00"
    },
    "app/cli/commands.py": {
      "name": "commands.py",
      "path": "app/cli/commands.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\cli\\commands.py",
      "file_hash": "f545cc667ba49cfb6df0416f2d313f2b",
      "tokens_total": 2849,
      "lines_total": 268,
      "imports": {
        "lines": "1-28",
        "modules": [
          "app.database.init_database",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.SessionLocal",
          "app.database.engine",
          "app.database.Base",
          "app.database.init_database",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "app.database.SessionLocal",
          "app.database.engine",
          "app.database.Base",
          "datetime.datetime",
          "datetime",
          "click",
          "logging",
          "json",
          "typing.Optional",
          "typing.List",
          "pathlib.Path",
          "colorama.init",
          "colorama.Fore",
          "colorama.Back",
          "colorama.Style",
          "app.database.init_database",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "app.database.SessionLocal",
          "app.database.engine",
          "app.database.Base",
          "app.services.aggregator.ContentAggregator",
          "app.services.aggregator.update_all_content",
          "app.services.recommender.ContentRecommender",
          "app.services.exporter.ProgressExporter",
          "app.services.email_sender.EmailSender",
          "app.config.settings",
          "app.interactive.InteractiveMenu"
        ],
        "tokens": 217
      },
      "globals": {
        "lines": "30-30",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "CLI interface for an educational content aggregator, managing user operations, content updates, and automated scheduling through database and external service integrations.",
      "classes": [],
      "functions": [
        {
          "name": "cli",
          "lines": "36-45",
          "tokens": 83,
          "content_hash": "ea96730150f70d1988b7f3ceda3dc8a2",
          "analyzed_by": "qwen",
          "description": "Handles CLI for educational content aggregator, integrates with app.database for user and content management.",
          "references": [
            "InteractiveMenu",
            "click.echo",
            "ctx.invoked_subcommand",
            "logger.error",
            "menu.run"
          ]
        },
        {
          "name": "init_db",
          "lines": "50-56",
          "tokens": 70,
          "content_hash": "045e068471f913832bb25cf29f29b340",
          "analyzed_by": "qwen",
          "description": "Инициализирует базу данных, удаляя все данные при необходимости, использует click для подтверждения и app.database для взаимодействия с базой данных.",
          "references": [
            "Base.metadata",
            "click.confirm",
            "click.echo",
            "init_database"
          ]
        },
        {
          "name": "add_user",
          "lines": "63-101",
          "tokens": 308,
          "content_hash": "de1be4ab7da207c55703bb939e5fe7b0",
          "analyzed_by": "qwen",
          "description": "Adds a new user to the database, integrates with app.database for session management and user data handling.",
          "references": [
            "SessionLocal",
            "User",
            "User.email",
            "User.username",
            "UserInterest",
            "UserSettings",
            "click.echo",
            "data.split",
            "interests.split",
            "session.add",
            "session.close",
            "session.commit",
            "session.flush",
            "session.query",
            "tag.strip",
            "user.id"
          ]
        },
        {
          "name": "update_content",
          "lines": "106-121",
          "tokens": 204,
          "content_hash": "a22aedb64c4c7d75fe88c11361d81d89",
          "analyzed_by": "qwen",
          "description": "Updates content from all sources based on user ID or keywords, integrates with ContentAggregator for data retrieval and storage.",
          "references": [
            "ContentAggregator",
            "aggregator.aggregate_by_keywords",
            "aggregator.save_content_items",
            "aggregator.update_content_for_user",
            "click.echo",
            "k.strip",
            "keywords.split",
            "results.values",
            "update_all_content"
          ]
        },
        {
          "name": "daily_digest",
          "lines": "127-149",
          "tokens": 326,
          "content_hash": "a84b89a688629c3bac679e02a1e536f4",
          "analyzed_by": "qwen",
          "description": "Generates and displays a daily content digest for a user, integrates with app.database for user and content data.",
          "references": [
            "ContentAggregator",
            "SessionLocal",
            "UserProgress",
            "aggregator.get_daily_digest",
            "click.echo",
            "click.prompt",
            "item.estimated_completion_time",
            "item.id",
            "item.platform",
            "item.title",
            "item.url",
            "progress.mark_completed",
            "session.add",
            "session.commit"
          ]
        },
        {
          "name": "get_recommendations",
          "lines": "154-161",
          "tokens": 114,
          "content_hash": "0772c6b854001c0c5c3504c6269c9d96",
          "analyzed_by": "qwen",
          "description": "Generates and displays personalized recommendations for a user by integrating with the ContentRecommender and database models for User and ContentItem.",
          "references": [
            "ContentRecommender",
            "click.echo",
            "item.difficulty",
            "item.title",
            "item.url",
            "recommender.get_recommendations"
          ]
        },
        {
          "name": "export_progress",
          "lines": "167-196",
          "tokens": 343,
          "content_hash": "0d6e1d5e01853f3ff926cddbee772543",
          "analyzed_by": "qwen",
          "description": "Экспортирует прогресс пользователя в указанный формат (JSON, Markdown, DOCX) и сохраняет в указанную директорию, использует app.database для доступа к данным пользователя.",
          "references": [
            "Path",
            "ProgressExporter",
            "click.echo",
            "datetime.datetime",
            "export_path.mkdir",
            "exporter.export_to_docx",
            "exporter.export_to_json",
            "exporter.export_to_markdown"
          ]
        },
        {
          "name": "send_digest",
          "lines": "204-239",
          "tokens": 435,
          "content_hash": "4e81e1cb89a65fbc93fae772e2e6000e",
          "analyzed_by": "qwen",
          "description": "Отправляет ежедневную подборку пользователю по email или показывает в тестовом режиме, использует app.database для доступа к данным пользователей и интересов, а также ContentAggregator и EmailSender для формирования и отправки подборки.",
          "references": [
            "ContentAggregator",
            "EmailSender",
            "SessionLocal",
            "User.id",
            "UserSettings.user_id",
            "aggregator.get_daily_digest",
            "aggregator.get_fallback_content",
            "click.echo",
            "email_sender.send_digest",
            "item.title",
            "item.url",
            "session.close",
            "session.query",
            "user_settings.email_digest"
          ]
        },
        {
          "name": "run_scheduler",
          "lines": "244-268",
          "tokens": 302,
          "content_hash": "51a24d4af4121330d0a04834ee438d9e",
          "analyzed_by": "qwen",
          "description": "Запускает планировщик для автоматических обновлений контента каждые заданные интервалы часов, использует ContentAggregator для проверки и обновления контента для всех пользователей, интегрируется с app.database для доступа к данным пользователей и элементов контента.",
          "references": [
            "ContentAggregator",
            "aggregator.check_and_update_content_for_all_users",
            "click.echo",
            "datetime.datetime",
            "logger.error",
            "results.items",
            "results.values",
            "time.sleep"
          ]
        }
      ],
      "last_indexed": "2026-01-21T14:27:28.275130+00:00"
    },
    "app/config.py": {
      "name": "config.py",
      "path": "app/config.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\config.py",
      "file_hash": "54addbc4e3c8653c833e7250bc2421b3",
      "tokens_total": 483,
      "lines_total": 68,
      "imports": {
        "lines": "1-4",
        "modules": [
          "os",
          "typing.Optional",
          "pydantic_settings.BaseSettings",
          "dotenv.load_dotenv"
        ],
        "tokens": 23
      },
      "globals": {
        "lines": "68-68",
        "names": [
          "settings"
        ],
        "tokens": 4
      },
      "description": "Configuration management module using Pydantic and dotenv to centralize environment variables for API keys, database connections, and content sources.",
      "classes": [
        {
          "name": "Settings",
          "lines": "8-65",
          "tokens": 451,
          "content_hash": "65b1a61750260ac4a69b771d5074d273",
          "analyzed_by": "qwen",
          "description": "Manages application configuration using environment variables, integrates with Pydantic and dotenv for settings management. Includes API keys, database, email, and content source configurations.",
          "references": [],
          "methods": []
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T03:51:48.695170+00:00"
    },
    "app/core/__init__.py": {
      "name": "__init__.py",
      "path": "app/core/__init__.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\core\\__init__.py",
      "file_hash": "ef8a3adbf92094a21cb942b99eed46eb",
      "tokens_total": 6,
      "lines_total": 3,
      "imports": null,
      "globals": null,
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2026-01-05T14:04:10.520957+00:00"
    },
    "app/database.py": {
      "name": "database.py",
      "path": "app/database.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\database.py",
      "file_hash": "51630854ad74107d896a9be39d2f8e80",
      "tokens_total": 2971,
      "lines_total": 346,
      "imports": {
        "lines": "1-23",
        "modules": [
          "sqlalchemy.create_engine",
          "sqlalchemy.Column",
          "sqlalchemy.Integer",
          "sqlalchemy.String",
          "sqlalchemy.Text",
          "sqlalchemy.DateTime",
          "sqlalchemy.create_engine",
          "sqlalchemy.Column",
          "sqlalchemy.Integer",
          "sqlalchemy.String",
          "sqlalchemy.Text",
          "sqlalchemy.DateTime",
          "sqlite3",
          "sqlalchemy.create_engine",
          "sqlalchemy.Column",
          "sqlalchemy.Integer",
          "sqlalchemy.String",
          "sqlalchemy.Text",
          "sqlalchemy.DateTime",
          "sqlalchemy.Boolean",
          "sqlalchemy.Float",
          "sqlalchemy.ForeignKey",
          "sqlalchemy.Table",
          "sqlalchemy.Enum",
          "sqlalchemy.ext.declarative.declarative_base",
          "sqlalchemy.orm.relationship",
          "sqlalchemy.orm.sessionmaker",
          "sqlalchemy.orm.Session",
          "sqlalchemy.sql.func",
          "datetime",
          "logging",
          "typing.List",
          "typing.Optional",
          "enum.Enum",
          "app.config.settings"
        ],
        "tokens": 128
      },
      "globals": {
        "lines": "25-61",
        "names": [
          "logger",
          "Base",
          "engine",
          "SessionLocal",
          "content_tags"
        ],
        "tokens": 82
      },
      "description": "SQLAlchemy ORM models for a personalized learning platform, defining user profiles, content metadata, progress tracking, and preference management.",
      "classes": [
        {
          "name": "ContentType",
          "lines": "43-47",
          "tokens": 47,
          "content_hash": "e20ab1fdcf1a3586e8ade27a16674cb9",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration for types of educational content, integrates with SQLAlchemy for database operations.",
          "references": [],
          "methods": []
        },
        {
          "name": "DifficultyLevel",
          "lines": "49-54",
          "tokens": 44,
          "content_hash": "13a1144a64ecbc1aa94d1b8da905159d",
          "analyzed_by": "qwen",
          "description": "Defines an enumeration for difficulty levels with values for beginner, intermediate, advanced, and expert.",
          "references": [],
          "methods": []
        },
        {
          "name": "Tag",
          "lines": "63-79",
          "tokens": 140,
          "content_hash": "4d269cda9eefc2ce6c14337881fc189f",
          "analyzed_by": "qwen",
          "description": "Represents a Tag for categorizing content with SQLAlchemy ORM, integrates with ContentItem for many-to-many relationship.",
          "references": [
            "Column",
            "name.lower",
            "relationship"
          ],
          "methods": [
            "__init__",
            "__repr__"
          ]
        },
        {
          "name": "ContentItem",
          "lines": "81-134",
          "tokens": 507,
          "content_hash": "3a5f0b6232fc84ff14786d995caa4811",
          "analyzed_by": "qwen",
          "description": "Represents educational content items with metadata and timestamps, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "ContentType.COURSERA_COURSE",
            "ContentType.HABR_ARTICLE",
            "ContentType.YOUTUBE_VIDEO",
            "DifficultyLevel.INTERMEDIATE",
            "Enum",
            "datetime.datetime",
            "func.now",
            "relationship"
          ],
          "methods": [
            "__init__",
            "__repr__",
            "estimated_completion_time"
          ]
        },
        {
          "name": "User",
          "lines": "136-181",
          "tokens": 401,
          "content_hash": "2d4a7fa32747a559f5138daefee5adb4",
          "analyzed_by": "qwen",
          "description": "Represents an application user with attributes and relationships to interests, progress, settings, favorites, and search queries, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "UserSettings",
            "datetime.datetime",
            "func.now",
            "logger.warning",
            "p.completed",
            "p.content",
            "relationship",
            "session.add",
            "session.flush",
            "session.query"
          ],
          "methods": [
            "__init__",
            "__repr__",
            "completed_content_count",
            "total_study_time",
            "ensure_settings"
          ]
        },
        {
          "name": "UserInterest",
          "lines": "183-219",
          "tokens": 416,
          "content_hash": "050e00df5385a5d39dcee51445fd2cd2",
          "analyzed_by": "qwen",
          "description": "Represents a user's interest in specific tags or topics, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "ForeignKey",
            "ValueError",
            "datetime.datetime",
            "func.now",
            "relationship",
            "tag_name.lower",
            "urllib.parse"
          ],
          "methods": [
            "__init__",
            "__repr__",
            "mark_used"
          ]
        },
        {
          "name": "UserProgress",
          "lines": "221-250",
          "tokens": 267,
          "content_hash": "413fadeec008f35bf6d367a56ac47b8b",
          "analyzed_by": "qwen",
          "description": "Tracks user progress on content items using SQLAlchemy, integrates with User and ContentItem models for relationships.",
          "references": [
            "Column",
            "ForeignKey",
            "datetime.datetime",
            "func.now",
            "relationship"
          ],
          "methods": [
            "__init__",
            "mark_completed"
          ]
        },
        {
          "name": "UserSettings",
          "lines": "252-281",
          "tokens": 305,
          "content_hash": "1ec972754caea9ceb473c7c6d4d80f3d",
          "analyzed_by": "qwen",
          "description": "Defines a UserSettings class for storing user preferences related to email digests and notifications, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "ForeignKey",
            "datetime.datetime",
            "func.now",
            "relationship"
          ],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "FavoriteContent",
          "lines": "283-300",
          "tokens": 168,
          "content_hash": "2487847901e9ea029f99c55fb1331684",
          "analyzed_by": "qwen",
          "description": "Tracks content items marked as favorite by users, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "ForeignKey",
            "datetime.datetime",
            "func.now",
            "relationship"
          ],
          "methods": [
            "__init__"
          ]
        },
        {
          "name": "SearchQuery",
          "lines": "302-316",
          "tokens": 135,
          "content_hash": "cde961d07bc680b47ab2b9d4fba074cb",
          "analyzed_by": "qwen",
          "description": "Represents user search queries for interest analysis, integrates with SQLAlchemy for database operations.",
          "references": [
            "Column",
            "ForeignKey",
            "datetime.datetime",
            "func.now",
            "query.strip",
            "relationship"
          ],
          "methods": [
            "__init__"
          ]
        }
      ],
      "functions": [
        {
          "name": "get_sqlite_column_type",
          "lines": "27-37",
          "tokens": 89,
          "content_hash": "3f38f4681c02737bd31e6890cea204e4",
          "analyzed_by": "qwen",
          "description": "Converts SQLAlchemy column types to corresponding SQLite type strings, integrates with SQLAlchemy for type handling.",
          "references": []
        },
        {
          "name": "init_database",
          "lines": "318-338",
          "tokens": 198,
          "content_hash": "87e2cc8a61012a39453e9fe29a7803e9",
          "analyzed_by": "qwen",
          "description": "Initializes database tables and adds missing columns for SQLite databases, integrates with SQLAlchemy for ORM functionality.",
          "references": [
            "Base.metadata",
            "column.name",
            "column.type",
            "conn.commit",
            "conn.cursor",
            "cursor.close",
            "cursor.execute",
            "cursor.fetchall",
            "engine.raw_connection",
            "engine.url",
            "get_sqlite_column_type",
            "logger.error",
            "logger.info",
            "model_columns.items",
            "table.columns"
          ]
        },
        {
          "name": "get_db_session",
          "lines": "340-346",
          "tokens": 37,
          "content_hash": "f1fd55facab2e8fcd4c24204d34e9a57",
          "analyzed_by": "qwen",
          "description": "Provides a database session for dependency injection using SQLAlchemy, integrates with SQLAlchemy's session management.",
          "references": [
            "SessionLocal",
            "session.close"
          ]
        }
      ],
      "last_indexed": "2026-01-23T23:58:18.401843+00:00"
    },
    "app/services/__init__.py": {
      "name": "__init__.py",
      "path": "app/services/__init__.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\services\\__init__.py",
      "file_hash": "d32961cde95047e74299c01157f3486d",
      "tokens_total": 75,
      "lines_total": 14,
      "imports": {
        "lines": "5-7",
        "modules": [
          "app.services.aggregator.ContentAggregator",
          "app.services.aggregator.update_all_content",
          "app.services.recommender.ContentRecommender",
          "app.services.exporter.ProgressExporter"
        ],
        "tokens": 34
      },
      "globals": {
        "lines": "9-14",
        "names": [
          "__all__"
        ],
        "tokens": 30
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2026-01-05T14:04:10.747599+00:00"
    },
    "app/services/aggregator.py": {
      "name": "aggregator.py",
      "path": "app/services/aggregator.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\services\\aggregator.py",
      "file_hash": "5978d238c31ec10300d32d6c09267c37",
      "tokens_total": 2598,
      "lines_total": 277,
      "imports": {
        "lines": "1-46",
        "modules": [
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.User",
          "app.database.UserSettings",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.User",
          "app.database.UserSettings",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.database.User",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.FavoriteContent",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.database.User",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.database.User",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "datetime.datetime",
          "datetime.timedelta",
          "datetime.time",
          "email.mime.multipart.MIMEMultipart",
          "email.mime.text.MIMEText",
          "sqlalchemy.or_",
          "sqlalchemy.or_",
          "sqlalchemy.and_",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "typing.Tuple",
          "typing.List",
          "typing.Dict",
          "typing.Optional",
          "typing.Any",
          "typing.List",
          "typing.Dict",
          "typing.Optional",
          "typing.Any",
          "typing.Tuple",
          "typing.Optional",
          "typing.Tuple",
          "typing.Tuple",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "smtplib",
          "logging",
          "datetime",
          "collections.defaultdict",
          "datetime.datetime",
          "datetime.timedelta",
          "datetime.time",
          "typing.Dict",
          "typing.List",
          "typing.Optional",
          "typing.Any",
          "typing.Tuple",
          "sqlalchemy.or_",
          "sqlalchemy.and_",
          "sqlalchemy.desc",
          "sqlalchemy.orm.Session",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.User",
          "app.database.UserSettings",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.sources.youtube.YouTubeSource",
          "app.sources.habr.HabrSource",
          "app.sources.coursera.CourseraSource",
          "app.config.settings"
        ],
        "tokens": 385
      },
      "globals": {
        "lines": "48-48",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Content aggregation service for user-specific feeds, integrating with user, content, and tagging models to update personalized content streams.",
      "classes": [
        {
          "name": "ContentAggregator",
          "lines": "50-269",
          "tokens": 2139,
          "content_hash": "5823af18c67c6412f581c6f2e9d31dfa",
          "analyzed_by": "qwen",
          "description": "Aggregates content from various sources and manages user interests, integrates with ContentItem, Tag, User, UserSettings, and UserInterest models.",
          "references": [
            "ContentItem.description",
            "ContentItem.published_at",
            "ContentItem.tags",
            "ContentItem.title",
            "CourseraSource",
            "HabrSource",
            "SearchQuery",
            "SessionLocal",
            "Tag",
            "Tag.name",
            "UserInterest",
            "UserSettings.auto_update_content",
            "YouTubeSource",
            "datetime.utcnow",
            "i.tag_name",
            "interest.last_used",
            "interest.mark_used",
            "interest.priority",
            "interest.tag_name",
            "item.platform",
            "item.source_id",
            "item.tags",
            "kw.strip",
            "logger.error",
            "logger.warning",
            "new_tags.append",
            "or_",
            "query.order_by",
            "query.outerjoin",
            "query.split",
            "results.extend",
            "s.platform",
            "saved.append",
            "scored.append",
            "scored.sort",
            "scored_interests.append",
            "scored_interests.sort",
            "seen.add",
            "settings.coursera_api_key",
            "settings.coursera_enabled",
            "settings.habr_enabled",
            "settings.youtube_api_key",
            "settings.youtube_enabled",
            "source.__class__",
            "source.fetch_content",
            "sources.append",
            "tag.name",
            "u.id",
            "unique_results.append",
            "w.lower"
          ],
          "methods": [
            "__init__",
            "_get_available_sources",
            "get_top_interests",
            "_trim_interests_to_limit",
            "aggregate_by_keywords",
            "save_content_items",
            "get_daily_digest",
            "update_content_for_user",
            "search_content",
            "search_live",
            "save_selected_items",
            "track_search_query",
            "add_user_interests_from_content",
            "check_and_update_content_for_all_users",
            "check_missed_digests"
          ]
        }
      ],
      "functions": [
        {
          "name": "update_all_content",
          "lines": "271-277",
          "tokens": 66,
          "content_hash": "d3d8078b6fd74c429e4b7659b1dda5a7",
          "analyzed_by": "qwen",
          "description": "Updates content for all users, integrates with ContentItem, Tag, User, UserSettings, and UserInterest models.",
          "references": [
            "ContentAggregator",
            "SessionLocal",
            "aggregator.update_content_for_user",
            "session.close",
            "session.query",
            "u.id",
            "u.username"
          ]
        }
      ],
      "last_indexed": "2026-01-21T14:27:14.392763+00:00"
    },
    "app/services/exporter.py": {
      "name": "exporter.py",
      "path": "app/services/exporter.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\services\\exporter.py",
      "file_hash": "51a5067b0e42f8535aa07cc64521bd8e",
      "tokens_total": 1157,
      "lines_total": 129,
      "imports": {
        "lines": "1-8",
        "modules": [
          "json",
          "datetime",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "pathlib.Path",
          "sqlalchemy.orm.Session",
          "docx.Document",
          "app.database.User",
          "app.database.UserProgress",
          "app.database.ContentItem",
          "app.database.get_db_session",
          "app.database.SessionLocal"
        ],
        "tokens": 50
      },
      "globals": null,
      "description": "Progress data export utility for JSON, Markdown, and DOCX generation, integrating with a database session for user and learning progress retrieval.",
      "classes": [
        {
          "name": "ProgressExporter",
          "lines": "10-129",
          "tokens": 1106,
          "content_hash": "9185158a731f1d935fb05d7c71370584",
          "analyzed_by": "qwen",
          "description": "Exports user learning progress data to JSON, Markdown, and DOCX formats, integrating with a database session to retrieve user and progress information.",
          "references": [
            "Document",
            "SessionLocal",
            "completed_list.append",
            "datetime.datetime",
            "doc.add_heading",
            "doc.add_paragraph",
            "doc.save",
            "f.write",
            "item.platform",
            "item.tags",
            "item.title",
            "json.dump",
            "p.completed_at",
            "p.content",
            "p.notes",
            "p.rating",
            "ratings.append",
            "t.name",
            "tag_counts.get",
            "tag_counts.items",
            "user.total_study_time",
            "user.username"
          ],
          "methods": [
            "__init__",
            "export_to_json",
            "export_to_markdown",
            "export_to_docx",
            "_generate_resume_data"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T09:54:17.494027+00:00"
    },
    "app/services/recommender.py": {
      "name": "recommender.py",
      "path": "app/services/recommender.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\services\\recommender.py",
      "file_hash": "d72f6bfd45bfd3e145a78379ec6b495e",
      "tokens_total": 2052,
      "lines_total": 214,
      "imports": {
        "lines": "1-19",
        "modules": [
          "app.database.ContentItem",
          "app.database.User",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.DifficultyLevel",
          "app.database.FavoriteContent",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.database.ContentItem",
          "app.database.User",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.DifficultyLevel",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "sqlalchemy.and_",
          "sqlalchemy.or_",
          "sqlalchemy.not_",
          "sqlalchemy.desc",
          "logging",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "datetime.datetime",
          "datetime.timedelta",
          "sqlalchemy.and_",
          "sqlalchemy.or_",
          "sqlalchemy.not_",
          "sqlalchemy.desc",
          "sqlalchemy.orm.Session",
          "sqlalchemy.orm.joinedload",
          "app.database.ContentItem",
          "app.database.User",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.DifficultyLevel",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "app.database.get_db_session",
          "app.database.SessionLocal",
          "app.config.settings"
        ],
        "tokens": 159
      },
      "globals": {
        "lines": "21-21",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Content-based recommendation engine leveraging user history and item metadata, integrated with core user and content management models.",
      "classes": [
        {
          "name": "ContentRecommender",
          "lines": "23-214",
          "tokens": 1885,
          "content_hash": "0c5d22e59fd02f49e2399587b88950f9",
          "analyzed_by": "qwen",
          "description": "Recommends content based on user history and interests, integrates with ContentItem, User, UserProgress, Tag, and DifficultyLevel models.",
          "references": [
            "ContentAggregator",
            "ContentItem.added_at",
            "ContentItem.difficulty",
            "ContentItem.id",
            "ContentItem.tags",
            "DifficultyLevel.BEGINNER",
            "FavoriteContent.added_at",
            "FavoriteContent.user_id",
            "SessionLocal",
            "Tag.content_items",
            "Tag.name",
            "UserProgress.completed",
            "UserProgress.content_id",
            "UserProgress.user_id",
            "aggregator.get_top_interests",
            "c.id",
            "c.tags",
            "comp_tags.extend",
            "datetime.utcnow",
            "f.content",
            "fav_tags.extend",
            "fc.content",
            "i.tag_name",
            "item.id",
            "item.published_at",
            "logger.error",
            "not_",
            "p.completed",
            "p.content",
            "scored_items.values",
            "search_tags.append",
            "sq.query",
            "strategies.items",
            "t.name",
            "tag_counts.get",
            "tag_counts.items",
            "timedelta",
            "user.interests",
            "user.progress",
            "weights.get",
            "word.lower"
          ],
          "methods": [
            "__init__",
            "get_recommendations",
            "_get_next_level_content",
            "_get_similar_content",
            "_get_content_based_on_interests",
            "_get_content_based_on_favorites",
            "get_interest_suggestions",
            "get_user_preference_weights"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-21T14:27:13.104647+00:00"
    },
    "app/sources/__init__.py": {
      "name": "__init__.py",
      "path": "app/sources/__init__.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\sources\\__init__.py",
      "file_hash": "9a9a7d5cd98f38cd8f8e8d5785d6e129",
      "tokens_total": 76,
      "lines_total": 15,
      "imports": {
        "lines": "5-8",
        "modules": [
          "app.sources.base.ContentSource",
          "app.sources.youtube.YouTubeSource",
          "app.sources.habr.HabrSource",
          "app.sources.coursera.CourseraSource"
        ],
        "tokens": 38
      },
      "globals": {
        "lines": "10-15",
        "names": [
          "__all__"
        ],
        "tokens": 29
      },
      "description": "Utility module with minimal significant logic.",
      "classes": [],
      "functions": [],
      "last_indexed": "2026-01-05T14:04:11.425599+00:00"
    },
    "app/sources/base.py": {
      "name": "base.py",
      "path": "app/sources/base.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\sources\\base.py",
      "file_hash": "ada5a8f05f63f630e1cacf68b0e27894",
      "tokens_total": 371,
      "lines_total": 48,
      "imports": {
        "lines": "1-5",
        "modules": [
          "abc",
          "datetime",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.ContentType",
          "app.database.DifficultyLevel",
          "app.config.settings"
        ],
        "tokens": 36
      },
      "globals": null,
      "description": "Abstract base class defining the interface and common logic for content source implementations, enabling standardized content ingestion across the system.",
      "classes": [
        {
          "name": "ContentSource",
          "lines": "7-48",
          "tokens": 334,
          "content_hash": "939a08ea87a36525c2280b0a4886b6d3",
          "analyzed_by": "qwen",
          "description": "Abstract base class for content sources, providing common initialization and helper methods for creating ContentItem instances from raw data.",
          "references": [
            "ContentItem",
            "DifficultyLevel.INTERMEDIATE",
            "abc.ABC",
            "abc.abstractmethod",
            "datetime.datetime",
            "source_data.get"
          ],
          "methods": [
            "__init__",
            "fetch_content",
            "fetch_full_text",
            "_create_content_item"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T05:20:39.717837+00:00"
    },
    "app/sources/coursera.py": {
      "name": "coursera.py",
      "path": "app/sources/coursera.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\sources\\coursera.py",
      "file_hash": "1a3188e1b2099313c71e58013f34acb7",
      "tokens_total": 587,
      "lines_total": 69,
      "imports": {
        "lines": "1-8",
        "modules": [
          "datetime",
          "logging",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "sqlalchemy.orm.Session",
          "app.sources.base.ContentSource",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.ContentType",
          "app.database.DifficultyLevel",
          "app.config.settings"
        ],
        "tokens": 50
      },
      "globals": {
        "lines": "10-10",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Data ingestion stub for Coursera API integration, requiring authentication and returning placeholder data for course retrieval.",
      "classes": [
        {
          "name": "CourseraSource",
          "lines": "12-69",
          "tokens": 529,
          "content_hash": "8ef7a56925e284653080f853f9063eed",
          "analyzed_by": "qwen",
          "description": "Coursera content source with stub implementation for fetching and saving courses, requires API key and currently returns empty results.",
          "references": [
            "ContentType.COURSERA_COURSE",
            "logger.info",
            "logger.warning",
            "settings.coursera_api_key"
          ],
          "methods": [
            "__init__",
            "fetch_content",
            "fetch_full_text",
            "save_selected_items",
            "_check_availability"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T05:20:39.562901+00:00"
    },
    "app/sources/habr.py": {
      "name": "habr.py",
      "path": "app/sources/habr.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\sources\\habr.py",
      "file_hash": "61fd5db2049b9d91e537882456b4303f",
      "tokens_total": 2649,
      "lines_total": 298,
      "imports": {
        "lines": "1-16",
        "modules": [
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "collections.defaultdict",
          "datetime",
          "logging",
          "urllib.parse",
          "feedparser",
          "requests",
          "requests.exceptions.RequestException",
          "requests.exceptions.Timeout",
          "bs4.BeautifulSoup",
          "sqlalchemy.orm.Session",
          "app.sources.base.ContentSource",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.ContentType",
          "app.database.DifficultyLevel",
          "app.config.settings"
        ],
        "tokens": 90
      },
      "globals": null,
      "description": "Habr RSS feed ingestion pipeline using BeautifulSoup for HTML parsing and requests for content retrieval, designed for integration into a data processing or content aggregation system.",
      "classes": [
        {
          "name": "HabrSource",
          "lines": "18-298",
          "tokens": 2558,
          "content_hash": "36199fe7967e0c4242caaa9076aca575",
          "analyzed_by": "qwen",
          "description": "Fetches and processes Habr RSS feed articles, integrates with BeautifulSoup for HTML parsing and requests for content retrieval.",
          "references": [
            "BeautifulSoup",
            "ContentType.HABR_ARTICLE",
            "DifficultyLevel.ADVANCED",
            "DifficultyLevel.BEGINNER",
            "DifficultyLevel.INTERMEDIATE",
            "Tag",
            "all_items.append",
            "container.extract",
            "container.get_text",
            "datetime.datetime",
            "element.extract",
            "entry.id",
            "entry.link",
            "entry.published_parsed",
            "entry.summary",
            "entry.tags",
            "entry.title",
            "feed.entries",
            "feedparser.parse",
            "filtered_articles.append",
            "item.full_text",
            "item.source_id",
            "item.tags",
            "item.url",
            "kw.strip",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "logging.getLogger",
            "main_text.strip",
            "new_tags.append",
            "re.I",
            "re.compile",
            "re.sub",
            "requests.get",
            "response.status_code",
            "response.text",
            "saved_items.append",
            "seen_ids.add",
            "session.add",
            "session.commit",
            "session.query",
            "session.rollback",
            "soup",
            "soup.find",
            "soup.find_all",
            "soup.get_text",
            "t.term",
            "tag.extract",
            "tag.name",
            "tag_names.add",
            "title.lower",
            "urllib.parse"
          ],
          "methods": [
            "__init__",
            "fetch_content",
            "_process_entry",
            "search_live",
            "save_selected_items",
            "_extract_tags",
            "_clean_html",
            "fetch_full_text"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-24T00:25:01.356785+00:00"
    },
    "app/sources/youtube.py": {
      "name": "youtube.py",
      "path": "app/sources/youtube.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\sources\\youtube.py",
      "file_hash": "cc95e6bcc5dfdda8a22f82c4634d1b7e",
      "tokens_total": 1547,
      "lines_total": 203,
      "imports": {
        "lines": "1-11",
        "modules": [
          "datetime",
          "re",
          "typing.List",
          "typing.Dict",
          "typing.Any",
          "typing.Optional",
          "googleapiclient.discovery.build",
          "googleapiclient.errors.HttpError",
          "logging",
          "sqlalchemy.orm.Session",
          "app.sources.base.ContentSource",
          "app.database.ContentItem",
          "app.database.Tag",
          "app.database.ContentType",
          "app.database.DifficultyLevel",
          "app.config.settings"
        ],
        "tokens": 73
      },
      "globals": null,
      "description": "YouTube video ingestion pipeline via the YouTube Data API, with database integration for content and tag storage.",
      "classes": [
        {
          "name": "YouTubeSource",
          "lines": "13-202",
          "tokens": 1473,
          "content_hash": "1a47f2440eb024ba07a7bfe95f95c444",
          "analyzed_by": "qwen",
          "description": "Fetches and processes YouTube video content using the YouTube Data API, integrating with a database for storing content items and tags.",
          "references": [
            "ContentType.YOUTUBE_VIDEO",
            "DifficultyLevel.ADVANCED",
            "DifficultyLevel.BEGINNER",
            "DifficultyLevel.INTERMEDIATE",
            "Tag",
            "build",
            "captions_response.get",
            "client.captions",
            "client.search",
            "client.videos",
            "content_items.append",
            "datetime.datetime",
            "description.lower",
            "details_response.get",
            "item.full_text",
            "item.source_id",
            "item.tags",
            "item.url",
            "kw.lower",
            "logger.debug",
            "logger.error",
            "logger.info",
            "logger.warning",
            "logging.getLogger",
            "match.groups",
            "new_tags.append",
            "pattern.match",
            "re.compile",
            "response.get",
            "saved_items.append",
            "search_response.get",
            "session.add",
            "session.commit",
            "session.query",
            "session.rollback",
            "settings.youtube_api_key",
            "tag.name",
            "title.lower",
            "url.split"
          ],
          "methods": [
            "__init__",
            "_get_client",
            "fetch_content",
            "_extract_difficulty",
            "_estimate_duration",
            "fetch_full_text",
            "save_selected_items"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-12T05:20:39.405644+00:00"
    },
    "main.py": {
      "name": "main.py",
      "path": "main.py",
      "full_path": "C:\\Users\\Admin\\ag\\main.py",
      "file_hash": "7fbbad275771390d1276028b3b5311aa",
      "tokens_total": 866,
      "lines_total": 117,
      "imports": {
        "lines": "1-23",
        "modules": [
          "app.database.SessionLocal",
          "app.database.UserSettings",
          "app.database.init_database",
          "app.database.init_database",
          "app.database.engine",
          "colorama.init",
          "colorama.Fore",
          "colorama.Back",
          "colorama.Style",
          "importlib",
          "subprocess",
          "sys",
          "logging",
          "argparse",
          "pathlib.Path",
          "app.cli.commands.cli",
          "app.database.init_database",
          "app.database.SessionLocal",
          "app.database.UserSettings",
          "app.services.aggregator.ContentAggregator",
          "app.config.settings"
        ],
        "tokens": 94
      },
      "globals": {
        "lines": "30-30",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Application entry point for CLI-based startup, database initialization, and user configuration management via Click.",
      "classes": [],
      "functions": [
        {
          "name": "main",
          "lines": "33-113",
          "tokens": 661,
          "content_hash": "4497d03aed244a6eff9852e62d56f692",
          "analyzed_by": "qwen",
          "description": "Handles application startup, processes custom arguments, initializes database, configures user settings, checks for missed updates, and runs a Click CLI, integrates with app.database for database operations.",
          "references": [
            "ContentAggregator",
            "SessionLocal",
            "aggregator.check_and_update_content_for_all_users",
            "app_args.append",
            "arg.startswith",
            "argparse.ArgumentParser",
            "cli",
            "filtered_argv.append",
            "init_database",
            "logger.error",
            "logger.info",
            "parsed_args.app_set_digest_hour",
            "parsed_args.app_skip_check",
            "parsed_args.app_user_id",
            "parser.add_argument",
            "parser.parse_known_args",
            "query.all",
            "query.filter_by",
            "results.values",
            "session.close",
            "session.commit",
            "session.query",
            "session.rollback",
            "sys.argv",
            "sys.exit",
            "user_setting.digest_hour",
            "user_setting.user_id"
          ]
        }
      ],
      "last_indexed": "2026-01-21T12:05:36.553238+00:00"
    },
    "app/interactive.py": {
      "name": "interactive.py",
      "path": "app/interactive.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\interactive.py",
      "file_hash": "2f5b90bb7b52c8311ec0ea7388b87ff5",
      "tokens_total": 1929,
      "lines_total": 191,
      "imports": {
        "lines": "1-41",
        "modules": [
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.SessionLocal",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.SessionLocal",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.SearchQuery",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "datetime",
          "app.database.get_db_session",
          "app.database.User",
          "app.database.ContentItem",
          "app.database.UserInterest",
          "app.database.UserProgress",
          "app.database.Tag",
          "app.database.SessionLocal",
          "app.database.UserSettings",
          "app.database.FavoriteContent",
          "app.database.SearchQuery",
          "os",
          "re",
          "logging",
          "datetime.datetime",
          "pathlib.Path",
          "typing.List",
          "typing.Optional",
          "typing.Dict",
          "typing.Any",
          "sqlalchemy.func",
          "click",
          "colorama.init",
          "colorama.Fore",
          "colorama.Back",
          "colorama.Style",
          "docx.Document",
          "app.services.aggregator.ContentAggregator",
          "app.services.aggregator.update_all_content",
          "app.services.recommender.ContentRecommender",
          "app.services.email_sender.EmailSender",
          "app.config.settings",
          "app.sources.youtube.YouTubeSource",
          "app.sources.habr.HabrSource",
          "app.sources.coursera.CourseraSource"
        ],
        "tokens": 280
      },
      "globals": {
        "lines": "43-43",
        "names": [
          "logger"
        ],
        "tokens": 7
      },
      "description": "Interactive CLI for content aggregation and recommendation, integrating with database models for user, content, and interests management.",
      "classes": [
        {
          "name": "InteractiveMenu",
          "lines": "45-191",
          "tokens": 1641,
          "content_hash": "da966a4ef07868833385713cc72f2d2b",
          "analyzed_by": "qwen",
          "description": "Provides an interactive menu for content aggregation and recommendation, integrates with database models for user, content, and interests management.",
          "references": [
            "ContentAggregator",
            "ContentRecommender",
            "CourseraSource",
            "EmailSender",
            "Fore.CYAN",
            "Fore.GREEN",
            "Fore.RED",
            "Fore.WHITE",
            "Fore.YELLOW",
            "HabrSource",
            "Path.cwd",
            "SessionLocal",
            "UserInterest",
            "YouTubeSource",
            "choice.isdigit",
            "content.isdigit",
            "datetime.utcnow",
            "existing.last_used",
            "init",
            "input",
            "interest.tag_name",
            "item.platform",
            "item.title",
            "path.exists",
            "path.read_text",
            "path.unlink",
            "path.write_text",
            "settings.coursera_api_key",
            "settings.youtube_api_key",
            "tag_input.lower",
            "u.id",
            "u.username",
            "uid.isdigit",
            "user.id",
            "user.interests",
            "user.username"
          ],
          "methods": [
            "__init__",
            "_load_current_user_id",
            "_save_current_user_id",
            "run",
            "show_main_menu",
            "view_content",
            "search_content",
            "configure_user_settings"
          ]
        }
      ],
      "functions": [],
      "last_indexed": "2026-01-24T00:25:01.020933+00:00"
    },
    "app/services/email_sender.py": {
      "name": "email_sender.py",
      "path": "app/services/email_sender.py",
      "full_path": "C:\\Users\\Admin\\ag\\app\\services\\email_sender.py",
      "file_hash": "87455bd1c8ad84f004da256169818b9a",
      "tokens_total": 1158,
      "lines_total": 129,
      "imports": {
        "lines": "1-9",
        "modules": [
          "smtplib",
          "logging",
          "email.mime.text.MIMEText",
          "email.mime.multipart.MIMEMultipart",
          "datetime.datetime",
          "typing.List",
          "typing.Optional",
          "app.config.settings",
          "app.database.ContentItem",
          "app.database.User"
        ],
        "tokens": 51
      },
      "globals": {
        "lines": "11-13",
        "names": [
          "logger",
          "DIGEST_SUBJECT"
        ],
        "tokens": 30
      },
      "description": "Automated email dispatch system for personalized user digests and notifications, integrating SMTP with environment-based configuration and structured logging.",
      "classes": [
        {
          "name": "EmailSender",
          "lines": "28-129",
          "tokens": 853,
          "content_hash": "9fd589d151f3c0c2dc8abdf314d17e2f",
          "analyzed_by": "qwen",
          "description": "Sends user digests and notifications via SMTP, integrating with environment variables for configuration and logging for error tracking.",
          "references": [
            "MIMEMultipart",
            "MIMEText",
            "format_digest_html",
            "logger.error",
            "message.attach",
            "missing.append",
            "os.path",
            "settings.smtp_from_email",
            "settings.smtp_host",
            "settings.smtp_password",
            "settings.smtp_port",
            "settings.smtp_use_tls",
            "settings.smtp_username",
            "smtplib.SMTP",
            "smtplib.SMTPException",
            "user.email",
            "user.settings"
          ],
          "methods": [
            "__init__",
            "send_digest",
            "_connect",
            "_disconnect",
            "_create_digest_message"
          ]
        }
      ],
      "functions": [
        {
          "name": "format_digest_html",
          "lines": "15-26",
          "tokens": 221,
          "content_hash": "c068fc1cdc6276ccf9c505442a2ab99d",
          "analyzed_by": "qwen",
          "description": "Generates HTML and plain text versions of a personalized content digest email for a user, including a list of content items with titles, platforms, descriptions, and links.",
          "references": [
            "item.description",
            "item.platform",
            "item.title",
            "item.url",
            "user.username"
          ]
        }
      ],
      "last_indexed": "2026-01-12T03:51:51.935956+00:00"
    }
  },
  "stats": {
    "qwen_calls": 27,
    "qwen_successes": 27,
    "qwen_failures": 0,
    "deepseek_calls": 11,
    "deepseek_successes": 11,
    "deepseek_failures": 0,
    "fallback_to_deepseek": 0,
    "total_analysis_tokens": 8861,
    "files_indexed": 16,
    "files_skipped": 0,
    "files_updated": 0,
    "files_added": 16,
    "files_removed": 0,
    "parse_recoveries": 27,
    "indexing_duration_seconds": 27.916127,
    "errors": []
  }
}